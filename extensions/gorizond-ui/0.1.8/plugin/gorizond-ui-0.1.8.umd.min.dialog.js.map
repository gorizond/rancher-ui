{"version":3,"file":"gorizond-ui-0.1.8.umd.min.dialog.js","mappings":"wQACOA,MAAM,sB,GAeFA,MAAM,W,mIAffC,EAAAA,EAAAA,oBAoBM,MApBNC,EAoBM,EAnBJC,EAAAA,EAAAA,aAESC,EAAA,CAFDC,MAAM,OAAOL,MAAM,S,CAF/BM,SAAAC,EAAAA,EAAAA,UAEuC,IACJ,cAHnCC,EAAAA,EAAAA,iBAEuC,oCACJC,EAAAA,EAAAA,oBAAmC,UAAAC,EAAAA,EAAAA,iBAA7BC,EAAAC,WAAY,OAAGF,EAAAA,EAAAA,iBAAGC,EAAAE,MAAI,gBAH/DL,EAAAA,EAAAA,iBAGsE,UAHtEM,EAAA,KAMIL,EAAAA,EAAAA,oBAcO,QAdAM,SAAMC,EAAA,KAAAA,EAAA,IANjBC,EAAAA,EAAAA,gBAAA,IAAAC,IAM2BC,EAAAC,QAAAD,EAAAC,UAAAF,IAAM,e,EAC3Bf,EAAAA,EAAAA,aAOEkB,EAAA,CANUC,MAAOC,EAAAC,OARzB,iBAAAR,EAAA,KAAAA,EAAA,GAAAS,GAQyBF,EAAAC,OAAMC,GACrBzB,MAAM,QACN0B,MAAM,SACNC,SAAA,GACAC,KAAK,SACLC,IAAI,K,mBAGRpB,EAAAA,EAAAA,oBAGM,MAHNqB,EAGM,EAFJrB,EAAAA,EAAAA,oBAA2E,UAAnEmB,KAAK,SAAS5B,MAAM,kBAAmB+B,QAAKf,EAAA,KAAAA,EAAA,OAAAE,IAAEC,EAAAa,OAAAb,EAAAa,SAAAd,KAAO,SAAK,aAClET,EAAAA,EAAAA,oBAA2E,UAAnEmB,KAAK,SAAS5B,MAAM,qBAAoB,sBAAkB,Y,0BAW1E,GACEiC,WAAY,CAAEC,aAAY,IAAEC,OAAMA,EAAAA,GAClCC,MAAO,CACLvB,KAAM,CAAEe,KAAMS,OAAQV,UAAU,GAChCf,UAAW,CAAEgB,KAAMS,OAAQV,UAAU,IAEvCW,IAAAA,GACE,MAAO,CAAEd,OAAQ,GACnB,EACAe,QAAS,CACPP,KAAAA,GACEQ,KAAKC,MAAM,QACb,EACA,YAAMrB,GACJ,MAAMsB,QAAgBF,KAAKG,OAAOC,SAAS,kBAAmB,CAC5DhB,KAAM,+BACNiB,GAAI,iCAEAC,EAAUJ,EAAQpB,MACxBkB,KAAKO,iBACDD,EAAU,WACV,CACElC,UAAW4B,KAAK5B,UAChBC,KAAM2B,KAAK3B,KACXW,OAAQgB,KAAKhB,SAGnBgB,KAAKR,OACP,EAEAe,gBAAAA,CAAiBC,EAAQV,GACvB,MAAMW,EAAOC,SAASC,cAAc,QACpCF,EAAKG,OAAS,OACdH,EAAKD,OAASA,EACdC,EAAKI,OAAS,SAEdC,OAAOC,QAAQjB,GAAMkB,SAAQ,EAAEC,EAAKnC,MAClC,MAAMoC,EAAQR,SAASC,cAAc,SACrCO,EAAM9B,KAAO,SACb8B,EAAM7C,KAAO4C,EACbC,EAAMpC,MAAQe,OAAOf,GACrB2B,EAAKU,YAAYD,EAAM,IAGzBR,SAASU,KAAKD,YAAYV,GAC1BA,EAAK7B,SACL8B,SAASU,KAAKC,YAAYZ,EAC5B,I,WCvEJ,MAAMa,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://gorizond-ui-0.1.8/./dialog/TopUpBalanceDialog.vue","webpack://gorizond-ui-0.1.8/./dialog/TopUpBalanceDialog.vue?82d2"],"sourcesContent":["<template>\n  <div class=\"top-up-dialog p-20\">\n    <Banner color=\"info\" class=\"mb-20\">\n      Replenishment of the balance <b>{{ namespace }} / {{ name }}</b>.\n    </Banner>\n\n    <form @submit.prevent=\"submit\">\n      <LabeledInput\n          v-model:value=\"amount\"\n          class=\"mb-20\"\n          label=\"Amount\"\n          required\n          type=\"number\"\n          min=\"1\"\n      />\n\n      <div class=\"actions\">\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"close\">Close</button>\n        <button type=\"submit\" class=\"btn role-tertiary\">Top up on Yookassa</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n\n<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { LabeledInput, Banner },\n  props: {\n    name: { type: String, required: true },\n    namespace: { type: String, required: true }\n  },\n  data() {\n    return { amount: '' };\n  },\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n    async submit() {\n      const setting = await this.$store.dispatch('management/find', {\n        type: 'management.cattle.io.setting',\n        id: 'gorizond-install-payment-url'\n      });\n      const pay_url = setting.value;\n      this.openPostInNewTab(\n          pay_url + `/payment`,\n          {\n            namespace: this.namespace,\n            name: this.name,\n            amount: this.amount\n          }\n      );\n      this.close();\n    },\n\n    openPostInNewTab(action, data) {\n      const form = document.createElement('form');\n      form.method = 'POST';\n      form.action = action;\n      form.target = '_blank';\n\n      Object.entries(data).forEach(([key, value]) => {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = String(value);\n        form.appendChild(input);\n      });\n\n      document.body.appendChild(form);\n      form.submit();\n      document.body.removeChild(form);\n    }\n  }\n};\n</script>\n","import { render } from \"./TopUpBalanceDialog.vue?vue&type=template&id=5ae24d12\"\nimport script from \"./TopUpBalanceDialog.vue?vue&type=script&lang=js\"\nexport * from \"./TopUpBalanceDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Banner","color","default","_withCtx","_createTextVNode","_createElementVNode","_toDisplayString","$props","namespace","name","_","onSubmit","_cache","_withModifiers","args","$options","submit","_component_LabeledInput","value","$data","amount","$event","label","required","type","min","_hoisted_2","onClick","close","components","LabeledInput","Banner","props","String","data","methods","this","$emit","setting","$store","dispatch","id","pay_url","openPostInNewTab","action","form","document","createElement","method","target","Object","entries","forEach","key","input","appendChild","body","removeChild","__exports__","render"],"sourceRoot":""}