{"version":3,"file":"gorizond-ui-0.1.27.umd.min.edit.js","mappings":"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","sources":["webpack://gorizond-ui-0.1.27/./edit/provisioning.gorizond.io.cluster.vue?3815","webpack://gorizond-ui-0.1.27/../../node_modules/@rancher/shell/rancher-components/Card/Card.vue?0817","webpack://gorizond-ui-0.1.27/./edit/provisioning.gorizond.io.cluster.vue","webpack://gorizond-ui-0.1.27/./utils/gorizond.js","webpack://gorizond-ui-0.1.27/./edit/provisioning.gorizond.io.cluster.vue?697e","webpack://gorizond-ui-0.1.27/../../node_modules/@rancher/shell/rancher-components/Card/Card.vue?f316","webpack://gorizond-ui-0.1.27/./edit/provisioning.gorizond.io.billing.vue","webpack://gorizond-ui-0.1.27/./edit/provisioning.gorizond.io.billing.vue?5cce","webpack://gorizond-ui-0.1.27/./edit/provisioning.gorizond.io.cluster.vue?86ed","webpack://gorizond-ui-0.1.27/../../node_modules/@rancher/shell/rancher-components/Card/Card.vue?823d","webpack://gorizond-ui-0.1.27/../../node_modules/@rancher/shell/rancher-components/Card/Card.vue","webpack://gorizond-ui-0.1.27/../../node_modules/@rancher/shell/rancher-components/Card/Card.vue?89c4"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".gorizond-cluster-form .header[data-v-3c7611ee]{align-items:center;display:flex;gap:12px;justify-content:flex-start}.eyebrow[data-v-3c7611ee]{font-size:12px;font-weight:600;letter-spacing:.08em;margin-bottom:4px;text-transform:uppercase}.eyebrow[data-v-3c7611ee],.muted[data-v-3c7611ee]{color:var(--text-muted,#6b7280)}.muted.small[data-v-3c7611ee]{font-size:12px;line-height:1.4}.panel[data-v-3c7611ee]{background:var(--body-bg,#fff);border:1px solid var(--border,#e5e7eb);border-radius:8px;box-shadow:0 1px 2px rgba(15,23,42,.06)}.panel[data-v-3c7611ee],.panel-section[data-v-3c7611ee]{padding:20px}.section-head[data-v-3c7611ee]{align-items:flex-start;display:flex;gap:12px;justify-content:space-between;margin-bottom:12px}.pill[data-v-3c7611ee]{background:var(--primary-50,#e8f3ff);border-radius:9999px;color:var(--primary-600,#0f70d7);font-size:12px;font-weight:600;padding:6px 12px;white-space:nowrap}.pill.soft[data-v-3c7611ee]{background:var(--hover-bg,#f6f7fb)}.field .helper[data-v-3c7611ee],.pill.soft[data-v-3c7611ee]{color:var(--text-muted,#6b7280)}.field .helper[data-v-3c7611ee]{font-size:13px;margin-top:6px}.summary[data-v-3c7611ee]{background:var(--body-bg,#fff);border:1px solid var(--border,#e5e7eb);position:sticky;top:12px;margin-top:24px}.summary-list[data-v-3c7611ee]{display:grid;gap:12px;margin:8px 0 16px}.summary-list dt[data-v-3c7611ee]{color:var(--text-muted,#6b7280);font-size:12px;letter-spacing:.04em;text-transform:uppercase}.summary-list dd[data-v-3c7611ee]{font-weight:600;margin:4px 0 0}.summary-note[data-v-3c7611ee]{border-top:1px solid var(--border,#e5e7eb);margin-top:12px;padding-top:12px}.form-grid[data-v-3c7611ee]{align-items:flex-start;-moz-column-gap:48px;column-gap:48px;row-gap:32px;grid-template-columns:minmax(0,2fr) minmax(320px,1fr)}section.panel+section.panel[data-v-3c7611ee]{margin-top:24px}@media (max-width:1024px){.gorizond-cluster-form .header[data-v-3c7611ee]{align-items:flex-start}}@media (max-width:1280px){.form-grid[data-v-3c7611ee]{-moz-column-gap:32px;column-gap:32px;row-gap:28px}}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../vue-loader/dist/stylePostLoader.js!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./Card.vue?vue&type=style&index=0&id=27fa983c&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"86893f82\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<template>\n  <div class=\"p-6 space-y-6 gorizond-cluster-form\">\n    <Banner v-if=\"!loaded\" color=\"info\" label=\"Loading...\" />\n\n    <Card\n      v-else\n      :showActions=\"true\"\n      :buttonAction=\"onSave\"\n      :buttonText=\"mode === 'create' ? 'Create' : 'Save'\"\n      :showHighlightBorder=\"false\"\n    >\n      <template v-slot:title>\n        <div class=\"header\">\n          <div>\n            <p class=\"eyebrow\">Gorizond Cluster</p>\n            <h3 class=\"type-title mb-1\">\n              {{ mode === \"create\" ? \"Create\" : \"Edit\" }} cluster\n            </h3>\n            <p class=\"muted\">\n              Choose workspace, Kubernetes release and billing plan.\n            </p>\n          </div>\n        </div>\n      </template>\n\n      <template v-slot:body>\n        <div class=\"grid gap-6 xl:grid-cols-3 form-grid\">\n          <div class=\"xl:col-span-2 space-y-6\">\n            <section class=\"panel panel-section\">\n              <div class=\"section-head\">\n                <div>\n                  <p class=\"eyebrow\">Basics</p>\n                  <p class=\"muted\">\n                    Give your cluster an identity and place it in a workspace.\n                  </p>\n                </div>\n                <span class=\"pill\">Required</span>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div class=\"field\">\n                  <LabeledInput\n                    v-model:value=\"model.metadata.name\"\n                    label=\"Cluster Name\"\n                    placeholder=\"Enter cluster name\"\n                    :required=\"mode === 'create'\"\n                    :disabled=\"mode !== 'create'\"\n                    tooltip=\"Cluster name is locked after creation.\"\n                  />\n                  <p class=\"helper\">\n                    Use a short, human-friendly name. This is used in contexts\n                    and CLI.\n                  </p>\n                </div>\n\n                <div class=\"field\">\n                  <LabeledSelect\n                    v-model:value=\"model.metadata.namespace\"\n                    label=\"Workspace (Namespace)\"\n                    :options=\"workspaces\"\n                    option-label=\"label\"\n                    option-key=\"value\"\n                    :disabled=\"mode !== 'create'\"\n                    :required=\"mode === 'create'\"\n                    tooltip=\"Workspace scopes Fleet bundles, credentials and billing.\"\n                  />\n                  <p class=\"helper\">Inherits workspace policies.</p>\n                </div>\n              </div>\n            </section>\n\n            <section class=\"panel panel-section\">\n              <div class=\"section-head\">\n                <div>\n                  <p class=\"eyebrow\">Runtime & Billing</p>\n                  <p class=\"muted\">\n                    Choose the Kubernetes release and billing plan.\n                  </p>\n                </div>\n                <span class=\"pill soft\">Configurable</span>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div class=\"field\">\n                  <LabeledSelect\n                    :disabled=\"mode === 'view'\"\n                    v-model:value=\"model.spec.kubernetesVersion\"\n                    label=\"Kubernetes Version\"\n                    :options=\"k8sVersions\"\n                    required\n                    tooltip=\"Latest stable release is preselected for new clusters.\"\n                  />\n                  <p class=\"helper\">\n                    Upgrade by editing the cluster later; downgrades are\n                    blocked. Auto-selects latest stable for new clusters.\n                  </p>\n                </div>\n\n                <div class=\"field\">\n                  <LabeledSelect\n                    :disabled=\"mode === 'view'\"\n                    v-model:value=\"model.spec.billing\"\n                    label=\"Billing\"\n                    :options=\"billingOptions\"\n                    required\n                    tooltip=\"Defaults to free tier when no billing is set.\"\n                  />\n                  <p class=\"helper\">\n                    Billing can be updated after provisioning if policies allow\n                    it.\n                  </p>\n                </div>\n              </div>\n            </section>\n          </div>\n\n          <aside class=\"panel panel-section summary\">\n            <div class=\"section-head\">\n              <div>\n                <p class=\"eyebrow\">Live preview</p>\n                <p class=\"muted\">Quickly verify before saving.</p>\n              </div>\n            </div>\n\n            <dl class=\"summary-list\">\n              <div>\n                <dt>Cluster</dt>\n                <dd>{{ model?.metadata?.name || \"Not set yet\" }}</dd>\n              </div>\n              <div>\n                <dt>Workspace</dt>\n                <dd>{{ selectedWorkspaceLabel }}</dd>\n              </div>\n              <div>\n                <dt>Kubernetes</dt>\n                <dd>{{ selectedVersionLabel }}</dd>\n              </div>\n              <div>\n                <dt>Billing</dt>\n                <dd>{{ selectedBillingLabel }}</dd>\n              </div>\n            </dl>\n\n            <p class=\"muted small summary-note\">\n              Name and workspace are locked after creation. Billing and\n              Kubernetes version can be updated later based on policy.\n            </p>\n          </aside>\n        </div>\n      </template>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { Banner } from \"@components/Banner\";\nimport { LabeledInput } from \"@components/Form/LabeledInput\";\nimport { Card } from \"@components/Card\";\nimport LabeledSelect from \"@shell/components/form/LabeledSelect\";\nimport { createOrUpgradeGorizondCluster } from \"../utils/gorizond\";\n\nconst YOUR_PRODUCT_NAME = \"gorizond\";\nexport default {\n  props: {\n    value: {\n      type: Object,\n      default: null,\n    },\n    mode: {\n      type: String,\n      required: true,\n    },\n  },\n\n  components: {\n    Banner,\n    Card,\n    LabeledInput,\n    LabeledSelect,\n  },\n\n  data() {\n    return {\n      loaded: false,\n      model: null,\n      workspaces: [],\n      k8sVersions: [],\n      billingOptions: [],\n    };\n  },\n\n  computed: {\n    selectedWorkspaceLabel() {\n      return this.formatOptionLabel(\n        this.workspaces,\n        this.model?.metadata?.namespace,\n        \"Not selected\"\n      );\n    },\n    selectedVersionLabel() {\n      return this.formatOptionLabel(\n        this.k8sVersions,\n        this.model?.spec?.kubernetesVersion,\n        \"Select version\"\n      );\n    },\n    selectedBillingLabel() {\n      return this.formatOptionLabel(\n        this.billingOptions,\n        this.model?.spec?.billing,\n        \"Free tier\"\n      );\n    },\n  },\n\n  watch: {\n    \"model.metadata.namespace\": {\n      handler: async function (newNs, oldNs) {\n        if (!newNs || newNs === oldNs) {\n          return;\n        }\n        await this.loadBillings(newNs);\n        if (\n          !this.billingOptions.find(\n            (o) => o.value === this.model?.spec?.billing\n          )\n        ) {\n          this.model.spec.billing = \"-free\";\n        }\n      },\n    },\n  },\n\n  async created() {\n    this.model = {\n      ...(this.value || {}),\n      metadata: { ...(this.value?.metadata || {}) },\n      spec: { ...(this.value?.spec || {}) },\n    };\n    const releases = await this.$store.dispatch(\"management/request\", {\n      url: \"/v1-k3s-release/releases\",\n    });\n\n    this.k8sVersions = releases.data.map((ws) => ({\n      label: ws.id.replace(\"+\", \"-\"),\n      value: ws.id.replace(\"+\", \"-\"),\n    }));\n\n    const workspaces = await this.$store.dispatch(\"management/findAll\", {\n      type: \"management.cattle.io.fleetworkspace\",\n    });\n\n    const sorted = workspaces.sort(\n      (a, b) =>\n        new Date(b.metadata.creationTimestamp) -\n        new Date(a.metadata.creationTimestamp)\n    );\n\n    this.workspaces = sorted.map((ws) => ({\n      label: ws.metadata.name,\n      value: ws.metadata.name,\n    }));\n\n    // Load billings from the selected namespace (Fleet workspace)\n    if (this.model?.metadata?.namespace) {\n      await this.loadBillings(this.model.metadata.namespace);\n    }\n\n    if (this.mode === \"create\") {\n      const latestVersion = this.k8sVersions.at(-1)?.value;\n\n      this.model.spec = {\n        ...this.model.spec,\n        kubernetesVersion:\n          latestVersion || this.model.spec.kubernetesVersion || \"\",\n        billing: \"-free\",\n      };\n      this.model.metadata.namespace = this.workspaces[0]?.value;\n\n      if (this.model.metadata.namespace) {\n        await this.loadBillings(this.model.metadata.namespace);\n      }\n      // prepend 'free' and merge fetched billings\n      this.ensureFreeBilling();\n    } else {\n      // map empty API value to UI sentinel '-free'\n      if (!this.model.spec) this.model.spec = {};\n      if (!this.model.spec.billing || this.model.spec.billing === \"\") {\n        this.model.spec.billing = \"-free\";\n      }\n    }\n\n    this.loaded = true;\n  },\n\n  methods: {\n    formatOptionLabel(options, value, fallback) {\n      const found = options.find((o) => o.value === value);\n\n      return found?.label || fallback;\n    },\n    async loadBillings(namespace) {\n      try {\n        const res = await this.$store.dispatch(\"cluster/request\", {\n          url: `/apis/provisioning.gorizond.io/v1/namespaces/${namespace}/billings`,\n          method: \"GET\",\n        });\n\n        // Rancher store sometimes returns plain {data} or the object directly\n        const payload = res?.data || res;\n        const items = payload?.items || payload?.data || [];\n\n        const options = Array.isArray(items)\n          ? items.map((b) => ({\n              label: b.metadata?.name,\n              value: b.metadata?.name,\n            }))\n          : [];\n\n        // filter empty options\n        const filtered = options.filter((o) => o && o.value);\n        // UI sentinel for empty billing is '-free'\n        this.billingOptions = [\n          { label: \"free (free tier use)\", value: \"-free\" },\n          ...filtered,\n        ];\n      } catch (e) {\n        this.billingOptions = [\n          { label: \"free (free tier use)\", value: \"-free\" },\n        ];\n      }\n    },\n    ensureFreeBilling() {\n      if (!this.billingOptions.find((o) => o.value === \"-free\")) {\n        this.billingOptions.unshift({\n          label: \"free (free tier use)\",\n          value: \"-free\",\n        });\n      }\n    },\n    async onSave() {\n      const clean = JSON.parse(JSON.stringify(this.model || {}));\n\n      try {\n        await createOrUpgradeGorizondCluster(\n          this.model.metadata.name,\n          this.model.metadata.namespace,\n          this.model.spec.kubernetesVersion,\n          this.model.spec.billing === \"-free\" || !this.model.spec.billing\n            ? \"\"\n            : this.model.spec.billing,\n          this.$store\n        );\n\n        this.$router.push({\n          name: `c-cluster-${YOUR_PRODUCT_NAME}-resource`,\n          params: {\n            cluster: this.$route.params.cluster || \"_\",\n            resource: \"provisioning.gorizond.io.cluster\",\n          },\n        });\n      } catch (err) {\n        this.$store.dispatch(\n          \"growl/fromError\",\n          {\n            err,\n            title: \"Failed to create cluster\",\n          },\n          { root: true }\n        );\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.gorizond-cluster-form .header {\n  align-items: center;\n  display: flex;\n  gap: 12px;\n  justify-content: flex-start;\n}\n\n.eyebrow {\n  color: var(--text-muted, #6b7280);\n  font-size: 12px;\n  font-weight: 600;\n  letter-spacing: 0.08em;\n  margin-bottom: 4px;\n  text-transform: uppercase;\n}\n\n.muted {\n  color: var(--text-muted, #6b7280);\n}\n\n.muted.small {\n  font-size: 12px;\n  line-height: 1.4;\n}\n\n.panel {\n  background: var(--body-bg, #fff);\n  border: 1px solid var(--border, #e5e7eb);\n  border-radius: 8px;\n  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.06);\n  padding: 20px;\n}\n\n.panel-section {\n  padding: 20px;\n}\n\n.section-head {\n  align-items: flex-start;\n  display: flex;\n  gap: 12px;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.pill {\n  background: var(--primary-50, #e8f3ff);\n  border-radius: 9999px;\n  color: var(--primary-600, #0f70d7);\n  font-size: 12px;\n  font-weight: 600;\n  padding: 6px 12px;\n  white-space: nowrap;\n}\n\n.pill.soft {\n  background: var(--hover-bg, #f6f7fb);\n  color: var(--text-muted, #6b7280);\n}\n\n.field .helper {\n  color: var(--text-muted, #6b7280);\n  font-size: 13px;\n  margin-top: 6px;\n}\n\n.summary {\n  background: var(--body-bg, #fff);\n  border: 1px solid var(--border, #e5e7eb);\n  position: sticky;\n  top: 12px;\n  margin-top: 24px;\n}\n\n.summary-list {\n  display: grid;\n  gap: 12px;\n  margin: 8px 0 16px;\n}\n\n.summary-list dt {\n  color: var(--text-muted, #6b7280);\n  font-size: 12px;\n  letter-spacing: 0.04em;\n  text-transform: uppercase;\n}\n\n.summary-list dd {\n  font-weight: 600;\n  margin: 4px 0 0;\n}\n\n.summary-note {\n  border-top: 1px solid var(--border, #e5e7eb);\n  margin-top: 12px;\n  padding-top: 12px;\n}\n\n.form-grid {\n  align-items: flex-start;\n  column-gap: 48px;\n  row-gap: 32px;\n  grid-template-columns: minmax(0, 2fr) minmax(320px, 1fr);\n}\n\nsection.panel + section.panel {\n  margin-top: 24px;\n}\n\n@media (max-width: 1024px) {\n  .gorizond-cluster-form .header {\n    align-items: flex-start;\n  }\n}\n\n@media (max-width: 1280px) {\n  .form-grid {\n    column-gap: 32px;\n    row-gap: 28px;\n  }\n}\n</style>\n","/**\n * Creates or updates a Gorizond Cluster (CRD provisioning.gorizond.io.Cluster)\n *\n * @param {string} name - cluster name (metadata.name)\n * @param {string} namespace - namespace (Fleet workspace)\n * @param {string} kubernetesVersion - K3s version\n * @param {object} store - this.$store from the component\n */\nexport async function createOrUpgradeGorizondCluster(\n  name,\n  namespace,\n  kubernetesVersion,\n  billing,\n  store\n) {\n  const baseUrl = `/apis/provisioning.gorizond.io/v1/namespaces/${namespace}/clusters/${name}`;\n\n  try {\n    // Try to get the current object\n    await store.dispatch(\"cluster/request\", {\n      url: baseUrl,\n      method: \"GET\",\n    });\n\n    // If GET succeeds — object exists → PATCH\n\n    const billingForApi =\n      billing === \"-free\" ||\n      billing === \"\" ||\n      billing === null ||\n      billing === undefined\n        ? \"\"\n        : billing;\n    const patch = {\n      spec: {\n        kubernetesVersion,\n        billing: billingForApi,\n      },\n    };\n\n    await store.dispatch(\"cluster/request\", {\n      url: baseUrl,\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/merge-patch+json\",\n      },\n      data: patch,\n    });\n    await store.dispatch(\"management/find\", {\n      type: \"provisioning.gorizond.io.cluster\",\n      id: `${namespace}/${name}`,\n      opt: { force: true },\n    });\n  } catch (err) {\n    if (err?.code === 404) {\n      // Object not found → create\n      const billingForApiCreate =\n        billing === \"-free\" ||\n        billing === \"\" ||\n        billing === null ||\n        billing === undefined\n          ? \"\"\n          : billing;\n      const body = {\n        apiVersion: \"provisioning.gorizond.io/v1\",\n        kind: \"Cluster\",\n        metadata: {\n          name,\n          namespace,\n        },\n        spec: {\n          kubernetesVersion,\n          billing: billingForApiCreate,\n        },\n      };\n\n      await store.dispatch(\"cluster/request\", {\n        url: `/apis/provisioning.gorizond.io/v1/namespaces/${namespace}/clusters`,\n        method: \"POST\",\n        data: body,\n      });\n\n      await store.dispatch(\"management/find\", {\n        type: \"provisioning.gorizond.io.cluster\",\n        id: `${namespace}/${name}`,\n        opt: { force: true },\n      });\n    } else {\n      throw err;\n    }\n  }\n}\n","import { render } from \"./provisioning.gorizond.io.cluster.vue?vue&type=template&id=3c7611ee&scoped=true\"\nimport script from \"./provisioning.gorizond.io.cluster.vue?vue&type=script&lang=js\"\nexport * from \"./provisioning.gorizond.io.cluster.vue?vue&type=script&lang=js\"\n\nimport \"./provisioning.gorizond.io.cluster.vue?vue&type=style&index=0&id=3c7611ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c7611ee\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".card-container{border-radius:var(--border-radius);display:flex;flex-basis:40%;margin:10px;min-height:100px;padding:10px;box-shadow:0 0 20px var(--shadow)}.card-container.highlight-border{border-left:5px solid var(--primary)}.card-container:not(.top){align-items:top;flex-direction:row;justify-content:start}.card-container .card-wrap{width:100%}.card-container .card-body{color:var(--input-label);display:flex;flex-direction:column;justify-content:center}.card-container .card-actions{align-self:end;display:flex;padding-top:20px}.card-container .card-title{align-items:center;display:flex;width:100%}.card-container .card-title h5{margin:0}.card-container .card-title .flex-right{margin-left:auto}.card-container.card-sticky{overflow:hidden}.card-container.card-sticky .card-wrap{display:flex;flex-direction:column}.card-container.card-sticky .card-wrap .card-body{justify-content:flex-start;overflow:auto}.card-container.card-sticky .card-wrap>*{flex:0}.card-container.card-sticky .card-wrap .card-body{flex:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n  <div class=\"p-6 space-y-6\">\n    <Banner v-if=\"!loaded\" color=\"info\" label=\"Loading...\" />\n\n    <Card v-else :showActions=\"true\" :buttonAction=\"onSave\" :buttonText=\"mode === 'create' ? 'Create' : 'Save'\" :showHighlightBorder=\"false\">\n      <template v-slot:title>\n        <div class=\"type-title\">\n          <h3>{{ mode }} Billing</h3>\n        </div>\n      </template>\n\n      <template v-slot:body>\n        <div class=\"space-y-4\">\n          <LabeledInput\n              v-model:value=\"model.metadata.name\"\n              label=\"Billing Name\"\n              placeholder=\"Enter billing name\"\n              :required=\"mode === 'create'\"\n              :disabled=\"mode !== 'create'\"\n          />\n\n          <LabeledSelect\n              v-model:value=\"model.metadata.namespace\"\n              label=\"Workspace (Namespace)\"\n              :options=\"workspaces\"\n              option-label=\"label\"\n              option-key=\"value\"\n              :disabled=\"mode !== 'create'\"\n              :required=\"mode === 'create'\"\n          />\n        </div>\n      </template>\n    </Card>\n  </div>\n  </template>\n\n  <script>\n  import { Banner } from '@components/Banner';\n  import { LabeledInput } from '@components/Form/LabeledInput';\n  import { Card } from '@components/Card';\n  import LabeledSelect from '@shell/components/form/LabeledSelect';\n\n  const YOUR_PRODUCT_NAME = 'gorizond';\n  export default {\n    props: {\n      value: {\n        type: Object,\n        default: null\n      },\n      mode: {\n        type: String,\n        required: true\n      }\n    },\n\n    components: {\n      Banner,\n      Card,\n      LabeledInput,\n      LabeledSelect\n    },\n\n    data() {\n      return {\n        loaded: false,\n        model: null,\n        workspaces: []\n      };\n    },\n\n    async created() {\n      this.model = { ...this.value };\n\n      const workspaces = await this.$store.dispatch('management/findAll', {\n        type: 'management.cattle.io.fleetworkspace'\n      });\n\n      const sorted = workspaces.sort((a, b) =>\n          new Date(b.metadata.creationTimestamp) - new Date(a.metadata.creationTimestamp)\n      );\n\n      this.workspaces = sorted.map(ws => ({\n        label: ws.metadata.name,\n        value: ws.metadata.name\n      }));\n\n      if (this.mode === 'create') {\n        this.model = this.model || {};\n        this.model.metadata = this.model.metadata || {};\n        this.model.metadata.namespace = this.workspaces[0]?.value;\n      }\n\n      this.loaded = true;\n    },\n\n    methods: {\n      async onSave() {\n        const clean = JSON.parse(JSON.stringify(this.model || {}));\n\n        try {\n          if (this.mode === 'create') {\n            const body = {\n              apiVersion: 'provisioning.gorizond.io/v1',\n              kind: 'Billing',\n              metadata: {\n                name: clean.metadata.name,\n                namespace: clean.metadata.namespace\n              }\n            };\n            await this.$store.dispatch('cluster/request', {\n              url: `/apis/provisioning.gorizond.io/v1/namespaces/${ clean.metadata.namespace }/billings`,\n              method: 'POST',\n              data: body\n            });\n          }\n\n          this.$router.push({\n            name: `c-cluster-${ YOUR_PRODUCT_NAME }-resource`,\n            params: {\n              cluster: this.$route.params.cluster || '_',\n              resource: 'provisioning.gorizond.io.billing'\n            }\n          });\n        } catch (err) {\n          this.$store.dispatch('growl/fromError', {\n            err,\n            title: 'Failed to save billing'\n          }, { root: true });\n        }\n      }\n    }\n  };\n  </script>\n\n","import { render } from \"./provisioning.gorizond.io.billing.vue?vue&type=template&id=d6395f3e\"\nimport script from \"./provisioning.gorizond.io.billing.vue?vue&type=script&lang=js\"\nexport * from \"./provisioning.gorizond.io.billing.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./provisioning.gorizond.io.cluster.vue?vue&type=style&index=0&id=3c7611ee&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"11260318\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"card-wrap\" }\nconst _hoisted_2 = {\n  class: \"card-title\",\n  \"data-testid\": \"card-title-slot\"\n}\nconst _hoisted_3 = {\n  class: \"card-body\",\n  \"data-testid\": \"card-body-slot\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  class: \"card-actions\",\n  \"data-testid\": \"card-actions-slot\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"focus-trap-card-container-element\",\n    class: _normalizeClass([\"card-container\", {'highlight-border': _ctx.showHighlightBorder, 'card-sticky': _ctx.sticky}]),\n    \"data-testid\": \"card\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _renderSlot(_ctx.$slots, \"title\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.title), 1)\n        ])\n      ]),\n      _cache[1] || (_cache[1] = _createElementVNode(\"hr\", null, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _renderSlot(_ctx.$slots, \"body\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.content), 1)\n        ])\n      ]),\n      (_ctx.showActions)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _renderSlot(_ctx.$slots, \"actions\", {}, () => [\n              _createElementVNode(\"button\", {\n                class: \"btn role-primary\",\n                onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.buttonAction && _ctx.buttonAction(...args)))\n              }, _toDisplayString(_ctx.buttonText), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 2))\n}","<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport { useBasicSetupFocusTrap } from '@shell/composables/focusTrap';\n\nexport default defineComponent({\n\n  name:  'Card',\n  props: {\n    /**\n     * The card's title.\n     */\n    title: {\n      type:    String,\n      default: ''\n    },\n    /**\n     * The text content for the card's body.\n     */\n    content: {\n      type:    String,\n      default: ''\n    },\n    /**\n     * The function to invoke when the default action button is clicked.\n     */\n    buttonAction: {\n      type:    Function as PropType<(event: MouseEvent) => void>,\n      default: (): void => { }\n    },\n    /**\n     * The text for the default action button.\n     */\n    buttonText: {\n      type:    String,\n      default: 'go'\n    },\n    /**\n     * Toggles the card's highlight-border class.\n     */\n    showHighlightBorder: {\n      type:    Boolean,\n      default: true\n    },\n    /**\n     * Toggles the card's Actions section.\n     */\n    showActions: {\n      type:    Boolean,\n      default: true\n    },\n    sticky: {\n      type:    Boolean,\n      default: false,\n    },\n    triggerFocusTrap: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n  setup(props) {\n    if (props.triggerFocusTrap) {\n      useBasicSetupFocusTrap('#focus-trap-card-container-element', {\n        // needs to be false because of import YAML modal from header\n        // where the YAML editor itself is a focus trap\n        // and we can't have it superseed the \"escape key\" to blur that UI element\n        // In this case the focus trap moves the focus out of the modal\n        // correctly once it closes because of the \"onBeforeUnmount\" trigger\n        escapeDeactivates: false,\n        allowOutsideClick: true,\n      });\n    }\n  }\n});\n</script>\n\n<template>\n  <div\n    id=\"focus-trap-card-container-element\"\n    class=\"card-container\"\n    :class=\"{'highlight-border': showHighlightBorder, 'card-sticky': sticky}\"\n    data-testid=\"card\"\n  >\n    <div class=\"card-wrap\">\n      <div\n        class=\"card-title\"\n        data-testid=\"card-title-slot\"\n      >\n        <slot name=\"title\">\n          {{ title }}\n        </slot>\n      </div>\n      <hr>\n      <div\n        class=\"card-body\"\n        data-testid=\"card-body-slot\"\n      >\n        <slot name=\"body\">\n          {{ content }}\n        </slot>\n      </div>\n      <div\n        v-if=\"showActions\"\n        class=\"card-actions\"\n        data-testid=\"card-actions-slot\"\n      >\n        <slot name=\"actions\">\n          <button\n            class=\"btn role-primary\"\n            @click=\"buttonAction\"\n          >\n            {{ buttonText }}\n          </button>\n        </slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang='scss'>\n .card-container {\n  &.highlight-border {\n    border-left: 5px solid var(--primary);\n  }\n  border-radius: var(--border-radius);\n  display: flex;\n  flex-basis: 40%;\n  margin: 10px;\n  min-height: 100px;\n  padding: 10px;\n  box-shadow: 0 0 20px var(--shadow);\n  &:not(.top) {\n    align-items: top;\n    flex-direction: row;\n    justify-content: start;\n  }\n  .card-wrap {\n    width: 100%;\n  }\n   & .card-body {\n    color: var(--input-label);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n   }\n   & .card-actions {\n     align-self: end;\n     display: flex;\n     padding-top: 20px;\n   }\n   & .card-title {\n    align-items: center;\n    display: flex;\n    width: 100%;\n     h5 {\n       margin: 0;\n     }\n    .flex-right {\n      margin-left: auto;\n    }\n   }\n\n  // Sticky mode will stick header and footer to top and bottom with content in the middle scrolling\n   &.card-sticky {\n      // display: flex;\n      // flex-direction: column;\n      overflow: hidden;\n\n    .card-wrap {\n      display: flex;\n      flex-direction: column;\n\n      .card-body {\n        justify-content: flex-start;\n        overflow: auto;\n      }\n\n      > * {\n        flex: 0;\n      }\n\n      .card-body {\n        flex: 1;\n      }\n    }\n   }\n }\n</style>\n","import { render } from \"./Card.vue?vue&type=template&id=27fa983c&ts=true\"\nimport script from \"./Card.vue?vue&type=script&lang=ts\"\nexport * from \"./Card.vue?vue&type=script&lang=ts\"\n\nimport \"./Card.vue?vue&type=style&index=0&id=27fa983c&lang=scss\"\n\nimport exportComponent from \"../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","content","__esModule","default","locals","exports","add","class","_createElementBlock","_hoisted_1","$data","loaded","_createBlock","_component_Card","key","showActions","buttonAction","$options","onSave","buttonText","$props","mode","showHighlightBorder","title","_withCtx","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","body","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_LabeledInput","value","model","metadata","name","_cache","$event","label","placeholder","required","disabled","tooltip","_hoisted_9","_component_LabeledSelect","namespace","options","workspaces","_hoisted_10","_hoisted_11","_hoisted_12","spec","kubernetesVersion","k8sVersions","_hoisted_13","billing","billingOptions","_hoisted_14","_hoisted_15","selectedWorkspaceLabel","selectedVersionLabel","selectedBillingLabel","_","_component_Banner","color","async","createOrUpgradeGorizondCluster","store","baseUrl","dispatch","url","method","billingForApi","undefined","patch","headers","data","type","opt","force","err","code","billingForApiCreate","apiVersion","kind","YOUR_PRODUCT_NAME","props","Object","String","components","Banner","Card","LabeledInput","LabeledSelect","computed","this","formatOptionLabel","watch","handler","newNs","oldNs","loadBillings","find","o","created","releases","$store","map","ws","replace","sorted","sort","a","b","Date","creationTimestamp","latestVersion","at","ensureFreeBilling","methods","fallback","found","res","payload","items","Array","isArray","filtered","filter","e","unshift","JSON","parse","stringify","$router","params","cluster","$route","resource","root","__exports__","render","clean","_ctx","$setup","_openBlock","_normalizeClass","sticky","_renderSlot","$slots","_createTextVNode","onClick","args","_createCommentVNode","defineComponent","Function","Boolean","triggerFocusTrap","setup","useBasicSetupFocusTrap","escapeDeactivates","allowOutsideClick"],"sourceRoot":""}