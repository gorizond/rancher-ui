"use strict";(("undefined"!==typeof self?self:this)["webpackChunkgorizond_ui_0_1_3"]=("undefined"!==typeof self?self:this)["webpackChunkgorizond_ui_0_1_3"]||[]).push([[907],{35725:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var o=n(9274);const a={class:"top-up-dialog p-20"},s={class:"actions"};function i(e,t,n,i,r,l){const c=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(c,{color:"info",class:"mb-20"},{default:(0,o.withCtx)((()=>[t[3]||(t[3]=(0,o.createTextVNode)(" Replenishment of the balance ")),(0,o.createElementVNode)("b",null,(0,o.toDisplayString)(n.namespace)+" / "+(0,o.toDisplayString)(n.name),1),t[4]||(t[4]=(0,o.createTextVNode)(". "))])),_:1}),(0,o.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,o.withModifiers)(((...e)=>l.submit&&l.submit(...e)),["prevent"]))},[(0,o.createVNode)(m,{value:r.amount,"onUpdate:value":t[0]||(t[0]=e=>r.amount=e),class:"mb-20",label:"Amount",required:"",type:"number",min:"1"},null,8,["value"]),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>l.close&&l.close(...e))},"Close"),t[5]||(t[5]=(0,o.createElementVNode)("button",{type:"submit",class:"btn role-tertiary"},"Top up on Yookassa",-1))])],32)])}var r=n(64415),l=n(9980),c={components:{LabeledInput:r.o,Banner:l.l},props:{name:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{amount:""}},methods:{close(){this.$emit("close")},async submit(){const e=await this.$store.dispatch("management/find",{type:"management.cattle.io.setting",id:"gorizond-install-payment-url"});this.openPostInNewTab(e+"/payment",{namespace:this.namespace,name:this.name,amount:this.amount}),this.close()},openPostInNewTab(e,t){const n=document.createElement("form");n.method="POST",n.action=e,n.target="_blank",Object.entries(t).forEach((([e,t])=>{const o=document.createElement("input");o.type="hidden",o.name=e,o.value=String(t),n.appendChild(o)})),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}}},m=n(47433);const u=(0,m.A)(c,[["render",i]]);var d=u}}]);
//# sourceMappingURL=gorizond-ui-0.1.3.umd.min.dialog.js.map